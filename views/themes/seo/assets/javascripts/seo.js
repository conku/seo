!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){"use script";function s(i,n){this.$element=t(i),this.options=t.extend({},s.DEFAULTS,t.isPlainObject(n)&&n),this.focusedInputID="",this.init()}var i="qor.seo",n="enable."+i,e="disable."+i,o="click."+i,u="blur."+i,r=".qor-seo-submit",a=".qor-seo-tag",c=".qor-seo-input-field";return s.prototype={constructor:s,init:function(){var t=this.$element;this.$submit=t.find(r),this.$addTgas=t.find(a),this.$tagInputs=t.find(c),this.bind()},bind:function(){this.$submit.on(o,t.proxy(this.submitSeo,this)),this.$tagInputs.on("click keyup",t.proxy(this.tagInputsFocus,this)),this.$tagInputs.on(u,t.proxy(this.tagInputsBlur,this)),this.$addTgas.on(o,t.proxy(this.addTags,this))},tagInputsFocus:function(){this.$addTgas.addClass("focus");var s=t(document.activeElement);this.focusedInputID=s.prop("id"),this.focusedInputStart=s[0].selectionStart,this.focusedInputEnd=s[0].selectionEnd,this.focusedInputVal=s.val()},tagInputsBlur:function(){this.$addTgas.removeClass("focus"),this.$focusedInputID=!1},addTags:function(s){if(this.focusedInputID){var i="",n=this.focusedInputVal.substring(0,this.focusedInputStart),e=this.focusedInputVal.substring(this.focusedInputEnd,this.focusedInputVal.length),o="{{"+t(s.currentTarget).data("tagValue")+"}}";i=n+o+e,t("#"+this.focusedInputID).val(i).focus()}},submitSeo:function(){var s=this.$element,i=s.find(".qor-form");return t.ajax({type:"POST",url:i.attr("action"),data:i.serialize(),success:function(){window.onbeforeunload=null,t.fn.qorSlideoutBeforeHide=null,t(".qor-alert--success").show().addClass(""),setTimeout(function(){t(".qor-alert--success").hide()},5e3)},error:function(){t(".qor-alert--error").show()}}),!1}},s.DEFAULTS={},s.plugin=function(n){return this.each(function(){var e,o=t(this),u=o.data(i);if(!u){if(/destroy/.test(n))return;o.data(i,u=new s(this,n))}"string"==typeof n&&t.isFunction(e=u[n])&&e.apply(u)})},t(function(){var i='[data-toggle="qor.seo"]',o={};t(document).on("click.qor.fixedAlert",'[data-dismiss="fixed-alert"]',function(){t(this).closest(".qor-alert").hide()}).on(e,function(n){s.plugin.call(t(i,n.target),"destroy")}).on(n,function(n){s.plugin.call(t(i,n.target),o)}).triggerHandler(n)}),s});